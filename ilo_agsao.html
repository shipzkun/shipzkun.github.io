<!DOCTYPE html>
<html lang="en">
<head>
	<title>Arden's Corner</title>
	<base href="https://arden-chan.party">

	<link rel="shortcut icon" href="/assets/images/favicon.png">

	<!-- CSS -->
	<link rel="stylesheet" href="https://arden-chan.party/assets/css/bootstrap.min.css"/>
	<link rel="stylesheet" href="https://arden-chan.party/assets/css/darkly.min.css"/>
	<link rel="stylesheet" href="https://arden-chan.party/assets/css/custom.css"/>

	<!-- JS -->
	<script src="https://arden-chan.party/assets/js/jquery-3.6.0.min.js"></script>
	<script src="https://arden-chan.party/assets/js/bootstrap.min.js"></script>
	<script src="https://arden-chan.party/assets/js/custom.js"></script>

	<!-- Adsense -->
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7794761151687634" crossorigin="anonymous"></script>
	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>

<body>
<div class="wrapper">
	<!-- Header navbar-expand-lg -->
	<div id="topbar" class="navbar navbar-dark bg-primary">
	<div class="float-left">
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<a class="navbar-brand" href="https://arden-chan.party">üè† Arden's Corner</a>
	</div>
	</div>

	<div id="container">
		<!-- Sidebar -->
		<div class="navbar-collapse collapse navbar-toggleable-md navbar navbar-dark bg-secondary" id="sidebar" >

			<div>
			
				<span class='links-header'>üñ¶ IlokoSoft</span>
				<ul class='list-unstyled components'>
					
						
							<li><a href="https://arden-chan.party/ilo_agsao" title="Passphrase Generator">Agsao</a></li>
						
					
						
							<li><a href="https://arden-chan.party/ilo_relos" title="Picture Clock">Relos</a></li>
						
					
				</ul>
			
				<span class='links-header'>üìã Other Projects</span>
				<ul class='list-unstyled components'>
					
						
							<li><a href="https://arden-chan.party/amazfitbip_watchface" title="">Amazfit Bip Watch Faces</a></li>
						
					
						
							<li><a href="https://arden-chan.party/common_unicode_chars" title="">Common Unicode Characters</a></li>
						
					
				</ul>
			
				<span class='links-header'>üéâ Fun Stuff</span>
				<ul class='list-unstyled components'>
					
						
							<li><a href="https://arden-chan.party/faq" title="">Q&A</a></li>
						
					
						
							<li><a href="https://arden-chan.party/resume" title="">R√©sum√©</a></li>
						
					
						
							<li><a href="https://www.deviantart.com/shippou-dvart" title="Embrace the cringe">DeviantArt</a></li>
						
					
						
							<li><a href="https://arden-chan.party/blog" title="Cringe novella">Blog</a></li>
						
					
						
							<li><a href="https://www.youtube.com/channel/UCAvpUdUDHbS_bjwGTTgBUEQ" title="Cringe TV">Youtube</a></li>
						
					
				</ul>
			
				<span class='links-header'>‚ûπ External Links</span>
				<ul class='list-unstyled components'>
					
						
							<li><a href="https://ko-fi.com/Z8Z133PAX" title=""><img height='36' style='border:0px;height:2em' src='https://cdn.ko-fi.com/cdn/kofi2.png?v=2' alt='Buy Me a Coffee at ko-fi.com' /></a></li>
						
					
						
							<li><a href="https://unicode.org/resources/fonts.html" title="You might need this if you cannot see all characters or words properly">Unicode Fonts</a></li>
						
					
				</ul>
			
			</div>
		</div>



		<div id="content" class="container-fluid">
			<script>
$(function() {
    $(".span_maxint").text(Number.MAX_SAFE_INTEGER);
    $("small").css('font-size', 'x-small');

    const min_words = 3;
    const max_words = 20;
    var attempt_count = 0;

    // common special chars for a US-based keyboard
    // maybe offer setting a custom set?
    const specials = "~!@#$%^&*()_+`-='\"{}[]\\|<>,./?".split('');

    // Optimise if this becomes very slow
    var corpus = {};
    var wordlists = {};

    
    wordlists["mw_200_less_common"] = {
        "name": "200 uncommon words", 
        "desc": "List generated by Michael Wehar, released to public domain: https://github.com/MichaelWehar/Public-Domain-Word-Lists#word-lists", 
        "location": "https://arden-chan.party/assets/wordlists/200-less-common.txt",
        "loaded": false
    };
    
    wordlists["ilo_uniq"] = {
        "name": "Words from Ilocano Wikipedia", 
        "desc": "Words scraped from the Ilocano Wikipedia", 
        "location": "https://arden-chan.party/assets/wordlists/ilo_uniq.txt",
        "loaded": false
    };
    
    wordlists["tl_uniq"] = {
        "name": "Words from Filipino Wikipedia", 
        "desc": "Words scraped from the Filipino Wikipedia", 
        "location": "https://arden-chan.party/assets/wordlists/tl_uniq.txt",
        "loaded": false
    };
    

   async function load_wordlist(wordlist) {
        if (!wordlists[wordlist]) return null;

        let w = wordlists[wordlist];
        corpus[wordlist] = [];

        let promise = $.get(w.location, null, function(res) {
            corpus[wordlist] = [...new Set(res.split("\n"))];
            wordlists[wordlist].loaded = true;
        }, "text").fail(function() {
            return $.Deferred().reject();
        });
        return promise;
    }

    // hopefully properly caters i18n
    // https://stackoverflow.com/questions/1026069/how-do-i-make-the-first-letter-of-a-string-uppercase-in-javascript
    const ucfirst = ([first, ...rest], locale = navigator.language) => first.toLocaleUpperCase(locale) + rest.join('');

    // inclusive rand()
    function rand(start, end) {
        return Math.floor(Math.random() * end) + 1;
    }

    // check if integer
    function isInt(text) {
        return !isNaN(text) && (text | 0 == text);
    }

    // insert at character pos
    function insertChar(str, c, pos) {
        switch (pos) {
            case 'start': pos = 0; break;
            case 'end':   pos = str.length; break;
            case 'random': // intentional fall-through
            default:      
                pos = rand(0,str.length); break;
        }

        return str.slice(0, pos)+c+str.slice(pos, str.length);
    }

    function validate(opts) {
        let errors = {};
        
        if (opts.wordlists.length == 0) {
            errors["wordlists"] = "Please select at least one word list.";
        } else {
            for (wl of opts.wordlists) {
                if (!wordlists[wl]) {
                    errors["wordlists"] = "Please select a valid option in the list.";
                    break;
                }
            }
        }

        if (!isInt(opts.wlen_min) || opts.wlen_min < 4) {
            errors["wlen_min"] = "Minimum word length must be a number ‚â• 4";
        }

        if (!isInt(opts.wlen_max)) {
            errors["wlen_max"] = "Maximum word length must be a number ‚â• 4";
        }

        if (isInt(opts.wlen_min) && isInt(opts.wlen_max)) {
            if (opts.wlen_min > opts.wlen_max) errors["wlen_min"] = "Minimum word length must be a number ‚â§ maximum word length ("+opts.wlen_max+")";
        }

        let add_positions = ["no", "start", "end", "random"];
        if (!add_positions.includes(opts.addnum)) {
            errors["addnum"] = "Please select a valid option from the list.";
        }
        if (!add_positions.includes(opts.addspecial)) {
            errors["addspecial"] = "Please select a valid option from the list.";
        }

        if (!isInt(opts.wc) || opts.wc < 3 || opts.wc > 20) {
            errors["wc"] = "Number of words must be a number between 3 and 20";
        }

        if (!isInt(opts.plen_min) || opts.plen_min < 12) {
            errors["plen_min"] = "Minimum passphrase length must be a number ‚â• 12";
        }

        if (!isInt(opts.plen_max)) {
            errors["plen_max"] = "Maximum passphrase length must be a number ‚â• 12";
        }

        if (isInt(opts.plen_min) && isInt(opts.plen_max)) {
            if (opts.plen_min > opts.plen_max) errors["plen_min"] = "Minimum passphrase length must be a number ‚â§ maximum passphrase length ("+opts.plen_max+")";
        }

        return errors;
    }

    function generate(opts) {
        let phrase = null;

        // our final corpus for this round
        let words = [];
        for (i of opts.wordlists) {
            words = words.concat(corpus[i]);
        }
        words = [... new Set(words)];

        for (let a=0; a<10; a++) {
            let selected = [];

            let h = {}
            let word_select_max_attempt = 0;
            while (selected.length < opts.wc && word_select_max_attempt < 10) {
                word_select_max_attempt++;
                let w = words[rand(0, words.length-1)];

                // discard dupes if desired
                if (!opts.allow_dupes && h.hasOwnProperty(w)) continue;

                // apply min and max word lengths
                if (w.length < opts.wlen_min || w.length > opts.wlen_max) continue;

                selected.push(w);
                h[w] = true;
                word_select_max_attempt = 0;
            }

            // once here, we fulfilled the max length
            // we apply the other rules
            let randchar_pos = ["start", "end", "random"];
            for (let i=0; i<selected.length; i++) {
                if (opts.capitalise) 
                    selected[i] = ucfirst(selected[i]);
                if (randchar_pos.includes(opts.addnum) && (rand(1,2) == 2)) 
                    selected[i] = insertChar(selected[i], rand(0,9), opts.addnum);
                if (randchar_pos.includes(opts.addspecial) && (rand(1,2) == 2)) 
                    selected[i] = insertChar(selected[i], specials[rand(0,9)], opts.addspecial);
            }

            // implode to one string
            phrase = selected.join(opts.separator);

            // truncate if requested
            if (opts.plen_max > 0 && phrase.length > opts.plen_max)
                phrase = phrase.substr(0, opts.plen_max);

            // if less than minlength, start over
            if (phrase.length >= opts.plen_min) 
                break; 
        }

        return phrase;
    }

    $("#pgen").on('submit', function(e) { 
        e.preventDefault();

        $("span[id^=v_]").hide();
        // get form vals
        let opts = {
            "wordlists"   : $('[name=wordlists]:checked').map(function(){return this.value.trim();}).get(),
            "wlen_min"    : Number($("[name=wlen_min]").val().trim()),
            "wlen_max"    : Number($("[name=wlen_max]").val().trim()),
            "allow_dupes" : $("[name=allow_dupes]").is(':checked'),
            "capitalise"  : $("[name=capitalise]").is(':checked'),
            "addnum"      : $("[name=addnum]:checked").val(),
            "addspecial"  : $("[name=addspecial]:checked").val(),
            "separator"   : $("[name=separator]").val().trim(),
            "wc"          : Number($("[name=wc]").val().trim()),
            "plen_min"    : Number($("[name=plen_min]").val().trim()),
            "plen_max"    : Number($("[name=plen_max]").val().trim())
        };

        if (opts.addnum) opts.addnum = opts.addnum.trim();
        if (opts.addspecial) opts.addspecial = opts.addspecial.trim();
        
        $(".alert-danger").hide();
        $("#final_phrase").hide();

        let errors = validate(opts);
        if (Object.keys(errors).length > 0) {
            if (errors.wordlists) $("#v_wordlists").text(errors.wordlists).show();
            if (errors.wlen_min) $("#v_wlen_min").text(errors.wlen_min).show();
            if (errors.wlen_max) $("#v_wlen_max").text(errors.wlen_max).show();
            if (errors.addnum) $("#v_addnum").text(errors.addnum).show();
            if (errors.addspecial) $("#v_addspecial").text(errors.addspecial).show();
            if (errors.wc) $("#v_wc").text(errors.wc).show();
            if (errors.plen_min) $("#v_plen_min").text(errors.plen_min).show();
            if (errors.plen_max) $("#v_plen_max").text(errors.plen_max).show();
            return;
        }
        
        // try to load selected wordlists
        let toload = [];
        for (i of opts.wordlists) {;
            if (!wordlists[i].loaded) {
                toload.push(load_wordlist(i));
            }
        }

        $.when(...toload).then(
            // generate on success
            function(res) {
                attempt_count = 0;
                let phrase = generate(opts);

                if (phrase == null || phrase.length == 0) {
                    $(".alert-danger").show();
                } else {
                    $("#final_phrase code").text(phrase);
                    $("#final_phrase").show();
                }
            }
        ).fail(function() {
            $("#v_wordlists").text("Cannot load wordlists. Please refresh the page or contact the developer.").show();
        });
    });
});

</script>

<form id="pgen" method="post" action="">
Select wordlist:<br />

<div class="form-check"><label class="form-check-label" title="List generated by Michael Wehar, released to public domain: https://github.com/MichaelWehar/Public-Domain-Word-Lists#word-lists" style="border-bottom: 1px dotted"><input class="form-check-input" type="checkbox" name="wordlists" value="mw_200_less_common" />200 uncommon words</label></div>

<div class="form-check"><label class="form-check-label" title="Words scraped from the Ilocano Wikipedia" style="border-bottom: 1px dotted"><input class="form-check-input" type="checkbox" name="wordlists" value="ilo_uniq" />Words from Ilocano Wikipedia</label></div>

<div class="form-check"><label class="form-check-label" title="Words scraped from the Filipino Wikipedia" style="border-bottom: 1px dotted"><input class="form-check-input" type="checkbox" name="wordlists" value="tl_uniq" />Words from Filipino Wikipedia</label></div>

<span class="text text-danger" id="v_wordlists" style="display:none"></span>
<br />

Word Composition:<br />
<div class="form-check"><label class="form-check-label"><input class="form-check-input" type="checkbox" name="allow_dupes" />Allow Duplicates</label></div>
<div class="form-check"><label class="form-check-label"><input class="form-check-input" type="checkbox" name="capitalise" />Capitalise Start</label></div>
<label class="form-label">
    Minimum Length 
    <input type="number" min="4" name="wlen_min" value="4" />
    <small>(4 - <span class="span_maxint"></span>)</small>
</label>
<span class="text text-danger" id="v_wlen_min" style="display:none"></span><br />
<label class="form-label">
    Maximum Length 
    <input type="number" min="4" name="wlen_max" value="7" /> 
    <small>(4 - <span class="span_maxint"></span>)</small>
</label>
<span class="text text-danger" id="v_wlen_max" style="display:none"></span><br />

<br />Add Numbers<br />
<div class="form-check form-check-inline"><label class="form-check-label"><input class="form-check-input" type="radio" name="addnum" value="no" checked="" />No</label></div>
<div class="form-check form-check-inline"><label class="form-check-label"><input class="form-check-input" type="radio" name="addnum" value="start" />Start of word</label></div>
<div class="form-check form-check-inline"><label class="form-check-label"><input class="form-check-input" type="radio" name="addnum" value="end" />End of word</label></div>
<div class="form-check form-check-inline"><label class="form-check-label"><input class="form-check-input" type="radio" name="addnum" value="random" />Randomly</label></div>
<div class="text text-danger" id="v_addnum" style="display:none"></div>

<br />
Add Special Characters<br />
<div class="form-check form-check-inline"><label class="form-check-label"><input class="form-check-input" type="radio" name="addspecial" value="no" checked="" />No</label></div>
<div class="form-check form-check-inline"><label class="form-check-label"><input class="form-check-input" type="radio" name="addspecial" value="start" />Start of word</label></div>
<div class="form-check form-check-inline"><label class="form-check-label"><input class="form-check-input" type="radio" name="addspecial" value="end" />End of word</label></div>
<div class="form-check form-check-inline"><label class="form-check-label"><input class="form-check-input" type="radio" name="addspecial" value="random" />Randomly</label></div>
<div class="text text-danger" id="v_addspecial" style="display:none"></div>

<br />
<label class="form-label">
    Word Separator <small>Can be multiple characters</small>  
    <input type="text" name="separator" /> 
</label><br />
<label class="form-label">
    Number of Words 
    <input type="number" min="3" max="20" name="wc" value="3" /> 
    <small>(3 - <span class="span_maxint"></span>)</small>
</label>
<span class="text text-danger" id="v_wc" style="display:none"></span>
<br />
<label class="form-label">
    Minimum Passphrase Length 
    <input type="number" min="12" name="plen_min" value="12" /> 
    <small>(12 - <span class="span_maxint"></span>)</small>
</label>
<span class="text text-danger" id="v_plen_min" style="display:none"></span><br />

<label class="form-label">
    Maximum Passphrase Length 
    <input type="number" min="12" name="plen_max" value="15" /> 
    <small>(12 - <span class="span_maxint"></span>)</small>
</label>
<span class="text text-danger" id="v_plen_max" style="display:none"></span><br />

<input type="submit" value="Generate" />
</form>

<p><br /></p>
<div id="final_phrase" style="display:none">
Your passphrase: 
<code class="can-copy"></code>
</div>

<div class="alert alert-danger" style="display:none">
Cannot generate passphrase. Please check your selections.
</div>

<hr />
<p><em><a href="/ilo_agsao#whats-with-the-name">Agsao</a></em> is a passphrase generator I made, mainly out of frustration of not being able to use Bitwarden at work.</p>

<p>This website <strong>does not log any generated passphrase</strong>; feel free to peruse the source code (CTRL+U or F12) to verify for yourself.  All processing is done in client-side Javascript. In fact, the only backend request it does is AJAX requests to retrieve the wordlists; again, feel free to verify.</p>

<p>Please note that <strong>I am not responsible</strong> for any password leaks or account hacks resulting from use of this site. I coded this for fun and not out of malice. Use with caution, your discretion, and common sense.</p>

<hr />
<p>Why I like passphrases:</p>
<ul>
  <li>They are easier to type, especially if you‚Äôre familiar with the words or they are part of the language(s) you speak.</li>
  <li>They can easily fulfill common password requirements (notably length) without requiring too much effort from the user.</li>
</ul>

<p>Personal opinions regarding passphrases:</p>
<ul>
  <li>Use them in tandem with a password manager.</li>
  <li>Use lots of words.</li>
  <li>If using a separator, use a character (or characters) that are quite uncommon but not so as to make typing clunky.</li>
  <li>Do not reuse them across different accounts.</li>
  <li>Change them regularly. Longer might mean safer, but not uncrackable.</li>
</ul>

<p>Do note that the opinions here are just that: opinions. Just like financial advice, they do not constitute formal or legal password advice. Use your discretion and common sense.</p>

<p>Additional resources about passwords and passphrases:</p>
<ul>
  <li><a href="https://en.wikipedia.org/wiki/Password">Wikipedia: Password</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Passphrase">Wikipedia: Passphrase</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Password_strength">Wikipedia: Password Strength</a></li>
  <li><a href="https://xkcd.com/936/">Obligatory XKCD</a></li>
</ul>

<hr />
<h6 id="whats-with-the-name">What‚Äôs with the name?</h6>

<p><em>Agsao</em> <code>[…êg.s…ê.'o]</code> means <em>to speak</em> in Ilocano. Given the nature of the service, it‚Äôs close enough, don‚Äôt you think?</p>

		</div>
	</div>
</div>
</body>
</html>